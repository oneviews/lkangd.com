<!doctype html>
<html data-n-head-ssr>
  <head>
    <title>â€œBug-Oâ€ è¡¨ç¤ºæ³• - Curtis' Spot</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Front-end Engineer. Bloggin about life, tech & everything I love."><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.png"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:900&display=swap"><base href="/lkangd.com/"><link rel="preload" href="/lkangd.com/_nuxt/65dc7a5cd1c1cd57e7eb.js" as="script"><link rel="preload" href="/lkangd.com/_nuxt/48f65a593c854d50b992.js" as="script"><link rel="preload" href="/lkangd.com/_nuxt/2bc7cee40a450e203637.js" as="script"><link rel="preload" href="/lkangd.com/_nuxt/ef6c14c0800794aa78c2.js" as="script"><link rel="preload" href="/lkangd.com/_nuxt/7e77b8e6cd7011676488.js" as="script"><style data-vue-ssr-id="4c1d7b6c:0 08fa13ea:0 1ff19d8c:0 e7f76474:0 c85b1ba0:0 6f6dcbd0:0 fb70d044:0 230384db:0 861b946c:0">a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,html,i,iframe,img,input,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font-weight:400;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:none}table{border-collapse:collapse;border-spacing:0}a{backface-visibility:hidden;-webkit-backface-visibility:hidden;-webkit-touch-callout:none;text-decoration:none;cursor:pointer}li{list-style:none}body{-webkit-text-size-adjust:none;-webkit-tap-highlight-color:transparent}*{box-sizing:border-box}html{font-size:16px!important}body,html{height:100%;line-height:1;font-family:"Noto Serif SC",serif;-webkit-tap-highlight-color:transparent;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}body{margin:0 auto;scroll-behavior:smooth}strong{font-weight:700}a,button{color:inherit;outline:0;border:none;background-color:transparent;-webkit-tap-highlight-color:transparent;transition:text-shadow .3s;white-space:pre-wrap;word-break:break-all;cursor:pointer}a:active,a:focus,button:active,button:focus{outline:0!important}a:hover,button:hover{text-shadow:0 0 1px #000}::-moz-selection{background:rgba(255,233,87,.6)}::selection{background:rgba(255,233,87,.6)}.cs-outside-link{position:relative;cursor:pointer;transition:color .2s cubic-bezier(0,.8,.13,1);-webkit-text-decoration-color:transparent!important;text-decoration-color:transparent!important}.cs-outside-link:after{content:"";position:absolute;z-index:-1;top:60%;left:-.1em;right:-.1em;bottom:0;transition:top .2s cubic-bezier(0,.8,.13,1);background-color:var(--yellow)}.cs-outside-link:hover{color:#121314}.cs-outside-link:hover:after{top:0}.cs-nav-link{position:relative}.cs-nav-link:before{content:"";position:absolute;height:1px;bottom:3px;left:0;right:0;background-color:var(--site-nav);transform-origin:bottom left;transform:scaleX(1);transition:transform .3s ease-in-out}.cs-nav-link:hover:before{transform:scaleX(0);transform-origin:bottom right}.cs-container{margin:0 auto;padding:0 32px;max-width:764px}.cs-container-big{margin:0 auto;padding:0 32px;max-width:1024px}.cs-split-title{height:0;font-weight:700;line-height:0;text-transform:uppercase;text-align:center;border-bottom:1px solid var(--hr);margin-top:48px;margin-bottom:20px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cs-split-title>span{padding-left:.5em;padding-right:.5em;font-weight:700;color:var(--text-normal);background-color:var(--bg)}.cs-title{font-size:24px;line-height:34px;font-weight:700}.cs-title,.cs-title-big{margin:20px auto;font-family:Montserrat,serif;color:var(--text-title)}.cs-title-big{font-size:32px;line-height:42px;font-weight:900}.cs-text{margin-bottom:10px;line-height:1.3;color:var(--text-normal);word-break:break-all;white-space:wrap}.cs-text a{text-decoration:underline}.cs-text small{font-size:.8em}.cs-date{margin:24px 0 32px;line-height:1.7;color:var(--site-desc)}.cs-list{margin:16px auto;padding-left:40px;list-style-type:disc}.cs-list__item{display:list-item;list-style:inherit;line-height:1.5;word-break:break-all;white-space:wrap}.fl{float:left}.fr{float:right}body{--yellow:rgba(255,233,87,0.6);--bg:#fff;--header:var(--pink);--text-normal:#000;--text-title:#222;--text-link:#d23669;--hr:#a7adba;--footer-bg:#fafafa;--logo:#000;--site-desc:#65737e;--site-nav:#343d46;--inline-code-fg:rgba(49,51,51,0.9);--inline-code-bg:rgba(255,233,87,0.4);color:var(--text-normal);background-color:var(--bg)}body.dark{--yellow:#373c49;--bg:#282c35;--header:#fff;--text-normal:hsla(0,0%,100%,0.88);--text-title:#fff;--text-link:var(--pink);--hr:hsla(0,0%,100%,0.2);--footer-bg:#242830;--logo:#fff;--site-desc:hsla(0,0%,100%,0.88);--site-nav:hsla(0,0%,100%,0.88);--inline-code-fg:#e6e6e6;--inline-code-bg:#373c49;-webkit-font-smoothing:antialiased}code[class*=language-],pre[class*=language-]{color:#fff;background:0 0;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{overflow:auto;padding:1.3125rem}pre[class*=language-]::-moz-selection{background:#27292a}pre[class*=language-]::selection{background:#27292a}pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:hsla(0,0%,100%,.15)}pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:hsla(0,0%,100%,.15)}:not(pre)>code[class*=language-]{border-radius:.3em;background:var(--inline-code-bg);color:var(--inline-code-fg);padding:.15em .2em .05em;white-space:normal}.token.attr-name{color:#addb67;font-style:italic}.token.comment{color:#809393}.token.string,.token.url{color:#addb67}.token.variable{color:#d6deeb}.token.number{color:#f78c6c}.token.builtin,.token.char,.token.constant,.token.function{color:#82aaff}.token.punctuation{color:#c792ea}.token.doctype,.token.selector{color:#c792ea;font-style:italic}.token.class-name{color:#ffcb8b}.token.keyword,.token.operator,.token.tag{color:#ffa7c4}.token.boolean{color:#ff5874}.token.property{color:#80cbc4}.token.namespace{color:#b2ccd6}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;padding-right:1em;padding-left:1.25em;border-left:.25em solid #ffa7c4}.gatsby-highlight,.gatsby-highlight-code-line{margin-right:-1.3125rem;margin-left:-1.3125rem}.gatsby-highlight{margin-bottom:1.75rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto}@media (max-width:672px){.gatsby-highlight{border-radius:0}}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}.line-highlight{border-left:4px solid #ffa7c4}.line-highlight:after,.line-highlight:before{display:none}.cs-loading[data-v-0dfe3184]{position:fixed;top:0;left:0;z-index:100;width:100%;height:100%;background-color:var(--bg);will-change:opacity;transition:opacity .5s .4s}.cs-loading.loaded[data-v-0dfe3184]{opacity:0}.cs-loading .main[data-v-0dfe3184]{position:absolute;top:calc(50% - 63px);left:calc(50% - 63px);z-index:1;width:126px;height:126px}.cs-loading .main.out-of-window .line1-2[data-v-0dfe3184],.cs-loading .main.out-of-window .line1[data-v-0dfe3184],.cs-loading .main.out-of-window .line3-2[data-v-0dfe3184],.cs-loading .main.out-of-window .line3[data-v-0dfe3184],.cs-loading .main.out-of-window .line5[data-v-0dfe3184],.cs-loading .main.out-of-window .line7[data-v-0dfe3184],.cs-loading .main.out-of-window .line9[data-v-0dfe3184]{transform:rotate(45deg) translateY(100vh)}.cs-loading .main.out-of-window .line10[data-v-0dfe3184],.cs-loading .main.out-of-window .line2-2[data-v-0dfe3184],.cs-loading .main.out-of-window .line2[data-v-0dfe3184],.cs-loading .main.out-of-window .line4-2[data-v-0dfe3184],.cs-loading .main.out-of-window .line4-3[data-v-0dfe3184],.cs-loading .main.out-of-window .line4[data-v-0dfe3184],.cs-loading .main.out-of-window .line6[data-v-0dfe3184],.cs-loading .main.out-of-window .line8-1[data-v-0dfe3184],.cs-loading .main.out-of-window .line8[data-v-0dfe3184]{transform:rotate(45deg) translateY(-100vh)}.cs-loading .main.out-of-window .text[data-v-0dfe3184]{opacity:0;transition:opacity .5s}.cs-loading .main .line[data-v-0dfe3184]{position:absolute;z-index:3;width:7px;background:var(--text-normal);will-change:transform;transform:rotate(45deg)}.cs-loading .main .line.line1[data-v-0dfe3184]{top:51px;left:5px;height:17px;transition:transform .5s}.cs-loading .main .line.line1-2[data-v-0dfe3184]{top:-3px;left:50px;height:36px;transition:transform .5s}.cs-loading .main .line.line2[data-v-0dfe3184]{top:55px;left:9px;height:27px;transition:transform .5s}.cs-loading .main .line.line2-2[data-v-0dfe3184]{top:-5px;left:56px;height:53px;transition:transform .5s}.cs-loading .main .line.line3[data-v-0dfe3184]{top:58px;left:15px;height:35px;transition:transform .5s .1s}.cs-loading .main .line.line3-2[data-v-0dfe3184]{top:-2px;left:63px;height:59px;transition:transform .5s .1s}.cs-loading .main .line.line4[data-v-0dfe3184]{top:55px;left:24px;height:48px;transition:transform .5s .1s}.cs-loading .main .line.line4-2[data-v-0dfe3184]{top:27px;left:60px;height:33px;transition:transform .5s .1s}.cs-loading .main .line.line4-3[data-v-0dfe3184]{top:9px;left:84px;height:21px;transition:transform .5s .1s}.cs-loading .main .line.line5[data-v-0dfe3184]{top:4px;left:54px;height:117px;transition:transform .5s .2s}.cs-loading .main .line.line6[data-v-0dfe3184]{top:15px;left:59px;height:111px;transition:transform .5s .2s}.cs-loading .main .line.line7[data-v-0dfe3184]{top:16px;left:69px;height:115px;transition:transform .5s .3s}.cs-loading .main .line.line8[data-v-0dfe3184]{top:56px;left:63px;height:72px;transition:transform .5s .3s}.cs-loading .main .line.line8-1[data-v-0dfe3184]{top:30px;left:116px;height:18px;transition:transform .5s .3s}.cs-loading .main .line.line9[data-v-0dfe3184]{top:67px;left:70px;height:61px;transition:transform .5s .4s}.cs-loading .main .line.line10[data-v-0dfe3184]{top:82px;left:78px;height:40px;transition:transform .5s .4s}.cs-loading .main .text[data-v-0dfe3184]{position:absolute;bottom:-18%;left:0;width:100%;font-size:18px;font-weight:700;color:var(--text-normal);text-align:center;will-change:opacity;transition:opacity .5s .5s}.cs-header[data-v-e2fcdc26]{padding-top:64px}.cs-header__logo[data-v-e2fcdc26]{position:relative;left:4px;display:block;margin:0 auto;width:128px;height:128px;color:var(--logo);transition:color .5s;cursor:pointer}.cs-header__logo[data-v-e2fcdc26]:hover{color:#ffe957}.cs-header__text[data-v-e2fcdc26]{margin:16px 0;padding:0 32px;font-weight:700;line-height:1.4;text-align:center;color:var(--text-normal)}.cs-header__text--light[data-v-e2fcdc26]{color:var(--site-desc);font-weight:500}.cs-nav[data-v-3775b65b]{padding:32px;font-size:0;text-align:center}.cs-nav__item[data-v-3775b65b]{display:inline-block;padding:0 8px;color:var(--site-nav);cursor:pointer}.cs-nav__item>a[data-v-3775b65b]{font-size:16px;font-weight:700;line-height:1.4}.post{background-color:transparent}.post hr{margin:64px 0;border:0;border-bottom:1px solid var(--hr)}.post .cs-post-article a{padding:0 4px;text-decoration:underline}.post .cs-post-article h2{margin:24px 0;font-size:20px;font-weight:700}.post .cs-post-article h3{margin:24px 0;font-size:18px;font-weight:700}.post .cs-post-article li,.post .cs-post-article p{margin:24px 0;font-size:16px;line-height:28px;color:var(--text-normal)}.post .cs-post-article code:not([class*=language-]){padding:0 4px;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;color:var(--inline-code-fg);background-color:var(--inline-code-bg);border-radius:3px}.post .cs-post-article strong em{margin:0 6px;font-weight:700}.post .cs-post-article hr{margin:30px 0;border:0;border-bottom:1px solid var(--hr)}.post .cs-post-article em{margin:0 6px}.post .cs-post-article pre{background-color:#011627;border-radius:10px}.post .cs-post-article ul li{font-size:16px;line-height:28px;list-style:disc}.post .cs-post-article ol li{list-style:decimal}.post .cs-post-article img{width:100%;height:auto}.post__wrapper{overflow:hidden}.post__wrapper>a{margin:20px 0}.cs-statement[data-v-6cb3297c]{text-align:center}.cs-statement hr[data-v-6cb3297c]{margin:64px 0;border:0;border-bottom:1px solid var(--hr)}.cs-statement__text[data-v-6cb3297c]{margin:8px 0;line-height:1.7;color:var(--text-normal)}.cs-statement__reward-code[data-v-6cb3297c]{margin-top:50px;max-width:30%;height:auto}@media (max-width:375px){.cs-statement .cs-statement__reward-code[data-v-6cb3297c]{max-width:76%!important}}.cs-footer[data-v-04c3be52]{position:relative;margin-top:40px;padding:40px 40px 20px;color:#9aa0ac;text-align:center}.cs-footer[data-v-04c3be52]:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:-2;background-color:var(--footer-bg)}.cs-footer__logo[data-v-04c3be52]{display:block;margin:18px auto;width:28px;height:28px;color:var(--logo)}.cs-footer__text>a[data-v-04c3be52],.cs-footer__text[data-v-04c3be52]{font-weight:600}.cs-footer__text[data-v-04c3be52]{margin:18px 0}.cs-footer__slogan[data-v-04c3be52]{display:inline-block;vertical-align:middle;font-size:14px}.cs-color-slogan[data-v-1740ad80]{display:inline-block;position:relative;font-family:serif;color:var(--text-normal);background-color:transparent}.cs-color-slogan__placeholder[data-v-1740ad80]{opacity:0}.cs-color-slogan__wrapper[data-v-1740ad80]{position:absolute;top:0;white-space:nowrap}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><header class="cs-header" data-v-e2fcdc26><svg xmlns="http://www.w3.org/2000/svg" class="cs-header__logo" data-v-e2fcdc26><use href="/lkangd.com/_nuxt/262e991fa0c906f1d05d77a4571a395b.svg#i-logo" xlink:href="/lkangd.com/_nuxt/262e991fa0c906f1d05d77a4571a395b.svg#i-logo"></use></svg> <p class="cs-header__text" data-v-e2fcdc26>Curtis Liong</p> <p class="cs-header__text cs-header__text--light" data-v-e2fcdc26><a href="https://en.wikipedia.org/wiki/Front-end_web_development" target="_blank" class="cs-outside-link" data-v-e2fcdc26>Front-end</a> Engineer. Blogging about life, tech & everything I love.
  </p></header> <nav class="cs-nav" data-v-3775b65b><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/" class="cs-nav-link nuxt-link-active" data-v-3775b65b>Home</a></div><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/tech/" class="cs-nav-link" data-v-3775b65b>Tech</a></div><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/think/" class="cs-nav-link" data-v-3775b65b>Think</a></div><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/fun/" class="cs-nav-link" data-v-3775b65b>Fun</a></div><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/about/" class="cs-nav-link" data-v-3775b65b>About</a></div><div class="cs-nav__item" data-v-3775b65b><a href="/lkangd.com/donate/" class="cs-nav-link" data-v-3775b65b>Donate</a></div> <div class="cs-nav__item" data-v-3775b65b><a href="/feed.xml" target="_blank" class="cs-nav-link" data-v-3775b65b>RSS</a></div> <div class="cs-nav__item" data-v-3775b65b><a href="/sitemap.xml" target="_blank" class="cs-nav-link" data-v-3775b65b>Sitemap</a></div></nav> <section class="post cs-container-big"><h2 class="cs-title-big">â€œBug-Oâ€ è¡¨ç¤ºæ³•</h2> <p class="cs-date">25, Jan, 2019â€¢1.7k wordsâ€¢â˜•ï¸ 6 min read</p> <article class="cs-post-article"><p>å½“ä½ åœ¨å†™ä¸€äº›å…³ä¹æ€§èƒ½çš„ä»£ç æ—¶ï¼Œæœ€å¥½æ—¶åˆ»æ³¨æ„å®ƒçš„ç®—æ³•å¤æ‚åº¦ã€‚ç®—æ³•å¤æ‚åº¦é€šå¸¸ä¼šç”¨<a href="https://rob-bell.net/2009/06/a-beginners-guide-to-big-o-notation/">å¤§ O è¡¨ç¤ºæ³•</a>æ¥ä½“ç°ã€‚</p>
<p>å¤§ O è¡¨ç¤ºæ³•æ˜¯ä¸€ç§è¡¡é‡æŒ‡æ ‡ï¼šå½“ä¼ å…¥çš„æ•°æ®è¶Šæ¥è¶Šå¤§æ—¶ï¼Œä½ çš„ä»£ç ä¼šå˜å¾—å¤šæ…¢ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªæ’åºç®—æ³•æœ‰ O(<i>n<sup>2</sup></i>) å¤æ‚åº¦ï¼Œå¯¹åŸæ¥é‡çº§ 50 å€çš„å…ƒç´ æ’åºï¼Œä½ çš„ä»£ç å¤§çº¦ä¼šæ…¢ 50<sup>2</sup> = 2,500 å€ã€‚å¤§ O è¡¨ç¤ºæ³•ä¸ä¼šç»™ä½ ä¸€ä¸ªç¡®åˆ‡çš„æ•°å€¼ï¼Œä½†å®ƒèƒ½è®©ä½ æ›´å¥½åœ°ç†è§£ä½ çš„ç®—æ³•çš„ä¼¸ç¼©æ€§ã€‚</p>
<p>ä¸€äº›ä¾‹å­ï¼šO(<i>n</i>)ã€O(<i>n</i> log <i>n</i>)ã€O(<i>n<sup>2</sup></i>) å’Œ O(<i>n!</i>)ã€‚</p>
<p>ç„¶è€Œï¼Œ<strong>è¿™ç¯‡æ–‡ç« ä¸æ˜¯å…³äºç®—æ³•å’Œæ€§èƒ½çš„</strong>ï¼Œè€Œæ˜¯å…³äº APIs å’Œè°ƒè¯•çš„ã€‚äº‹å®è¯æ˜ï¼Œè®¾è®¡ API æ—¶ä¹Ÿéœ€è¦è€ƒè™‘ç±»ä¼¼çš„äº‹æƒ…ã€‚</p>
<hr>
<p>æˆ‘ä»¬ç»å¤§å¤šæ•°æ—¶é—´éƒ½åœ¨ä¸ºæˆ‘ä»¬çš„ä»£ç æ‰¾ bug å’Œä¿® bugã€‚å¤§å¤šæ•°å¼€å‘è€…ä¹Ÿå¸Œæœ›èƒ½æ›´å¿«åœ°æ‰¾åˆ° bugã€‚å³ä¾¿æœ€å bug æ‰¾åˆ°äº†ï¼Œèˆ’æœäº†ï¼Œä½†å®ƒä¹Ÿå¯èƒ½æ¶ˆè€—äº†æˆ‘ä»¬ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œæœ‰è¿™ä¸ªæ—¶é—´éƒ½å¤Ÿä½ å®Œæˆå‡ ä¸ª roadmap ä¸Šçš„äº‹æƒ…äº†ã€‚</p>
<p>è°ƒè¯•çš„ä½“éªŒå—æˆ‘ä»¬é€‰æ‹©çš„æŠ½è±¡ã€åº“å’Œå·¥å…·çš„å½±å“ã€‚æœ‰çš„ API å’Œè¯­è¨€è®¾è®¡å°±èƒ½è®©æˆ‘ä»¬é¿å…ä¸€æ•´ç±»çš„é”™è¯¯ï¼Œä½†æœ‰çš„åˆ™ä¼šåˆ¶é€ æ— å°½çš„éº»çƒ¦ã€‚<strong>ä½†ä½ æ€ä¹ˆåŒºåˆ†å®ƒä»¬å‘¢ï¼Ÿ</strong></p>
<p>ç½‘ä¸Šè®¸å¤šå…³äº APIs çš„è®¨è®ºéƒ½ä¸»è¦é›†ä¸­åœ¨å®¡ç¾ä¸Šï¼Œä½†é‚£çœŸçš„<a href="/optimized-for-change/">å¯¹å®é™…ä½¿ç”¨å®ƒæ—¶çš„æ„Ÿå—æ²¡æœ‰å¤ªå¤§å½±å“</a>ã€‚</p>
<p><strong>å…³äºè¿™ä»¶äº‹æœ‰ä¸€ä¸ªè¡¡é‡æŒ‡æ ‡ï¼Œæˆ‘ç§°å®ƒä¸º <em>Bug-O</em> è¡¨ç¤ºæ³•:</strong></p>
<p><font size="40">ğŸ(<i>n</i>)</font></p>
<p>å¤§ O è¡¨ç¤ºæ³•æè¿°éšç€æ•°æ®é‡å¢å¤§ï¼Œä½ çš„ç®—æ³•ä¼šå˜å¾—å¤šæ…¢ã€‚<em>Bug-O</em> è¡¨ç¤ºæ³•æè¿°éšç€ä»£ç é‡çš„å¢å¤§ï¼Œè¿™ä¸ª API ä¼šè®©<strong>ä½ </strong>åšä¸€ä»¶äº‹å˜å¾—å¤šæ…¢ã€‚</p>
<hr>
<p>æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾ä¸‹é¢çš„ä»£ç æ¯æ¬¡éƒ½é€šè¿‡åƒ <code>node.appendChild()</code> å’Œ <code>node.removeChild()</code> è¿™æ ·å‘½ä»¤å¼çš„æ“ä½œæ¥æ‰‹åŠ¨æ›´æ–° DOMï¼Œå¹¶ä¸”æ²¡æœ‰æ˜ç¡®çš„ç»„ç»‡ç»“æ„ï¼š</p>
<pre class="language-jsx"><code class="language-jsx">function trySubmit() {
  // Section 1
  let spinner = createSpinner();
  formStatus.appendChild(spinner);
  submitForm().then(() => {
  	// Section 2
    formStatus.removeChild(spinner);
    let successMessage = createSuccessMessage();
    formStatus.appendChild(successMessage);
  }).catch(error => {
  	// Section 3
    formStatus.removeChild(spinner);
    let errorMessage = createErrorMessage(error);
    let retryButton = createRetryButton();
    formStatus.appendChild(errorMessage);
    formStatus.appendChild(retryButton)
    retryButton.addEventListener('click', function() {
      // Section 4
      formStatus.removeChild(errorMessage);
      formStatus.removeChild(retryButton);
      trySubmit();
    });
  })
}
</code></pre><p>é—®é¢˜ä¸åœ¨äºä»£ç ä¸‘ä¸ä¸‘ï¼Œæˆ‘ä»¬æš‚ä¸”ä¸è°ˆä»£ç çš„ç¾è§‚æ€§ã€‚<strong>é—®é¢˜æ˜¯å¦‚æœç°åœ¨è¿™ä¸ªä»£ç é‡Œå‡ºç°äº†ä¸€ä¸ª bugï¼Œæˆ‘éƒ½ä¸çŸ¥é“ä»å“ªæŸ¥èµ·ã€‚</strong></p>
<p>**å–å†³äºå›è°ƒå’Œäº‹ä»¶è§¦å‘çš„é¡ºåºï¼Œæ•´ä¸ªç¨‹åºä¸­ä»£ç è¿è¡Œçš„è·¯å¾„ç»„åˆä¼šéå¸¸å¤šï¼Œ**å…¶ä¸­æœ‰äº›èƒ½äº§ç”Ÿæ­£ç¡®çš„ç»“æœï¼Œæœ‰äº›æˆ‘å¯èƒ½ä¼šçœ‹åˆ°å¤šä¸ªè¿›åº¦æ¡æˆ–è€…ä»€ä¹ˆå¥‡æ€ªçš„ç°è±¡ï¼Œæœ‰çš„æ—¶å€™ç”šè‡³ç¨‹åºç›´æ¥å°±å´©æºƒäº†ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°æœ‰ 4 ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œå¹¶ä¸”é¡ºåºæ²¡æœ‰ä¿è¯ã€‚æ ¹æ®æˆ‘ç²—ç•¥çš„è®¡ç®—ï¼Œå®ƒä»¬çš„è¿è¡Œé¡ºåºå¤§çº¦æœ‰ 4Ã—3Ã—2Ã—1 = 24 ç§ã€‚å¦‚æœæˆ‘ä»¬åœ¨ä»£ç é‡Œå†æ·»åŠ ä¸€äº›ä¸œè¥¿ï¼Œå¯èƒ½ä¼šæœ‰ 8Ã—7Ã—6Ã—5Ã—4Ã—3Ã—2Ã—1 â€” <em>å››ä¸‡</em>å¤šç§ç»„åˆã€‚ä½ å°±æ…¢æ…¢è°ƒè¯•å»å§...</p>
<p><strong>æ¢å¥è¯è¯´ï¼Œå®ƒçš„ Bug-O æ˜¯ ğŸ(<i>n!</i>)</strong>ï¼Œå…¶ä¸­ <em>n</em> æ˜¯ä¿®æ”¹ DOM çš„ä»£ç ç‰‡æ®µæ•°ã€‚æ˜¯çš„ï¼Œå®ƒæ˜¯é˜¶ä¹˜çº§çš„ã€‚å½“ç„¶ï¼Œæˆ‘è¿™é‡Œå¯èƒ½ä¸æ˜¯å¾ˆä¸¥è°¨ã€‚å®é™…æƒ…å†µä¸‹ä¸æ˜¯æ‰€æœ‰çš„ç»„åˆéƒ½ä¼šå‘ç”Ÿã€‚ä¸è¿‡å¦ä¸€æ–¹é¢ï¼Œè¿™äº›ä»£ç ç‰‡æ®µå¯èƒ½ä¼šæ‰§è¡Œå¤šæ¬¡ï¼Œwhatever... æ€»ä¹‹è¿™ä¸ªä»£ç å°±æ˜¯ä¸æ€ä¹ˆæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚</p>
<hr>
<p>ä¸ºäº†æ”¹è¿›è¿™ä¸ªä»£ç çš„ Bug-Oï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶å¯èƒ½çš„çŠ¶æ€å’Œç»“æœæ•°é‡ã€‚æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨ä»»ä½•åº“ï¼Œåªè¦å¼ºåŒ–ä¸€ä¸‹ä»£ç çš„ç»“æ„ã€‚æ¯”å¦‚è¿™æ ·ï¼š</p>
<pre class="language-jsx"><code class="language-jsx">let currentState = {
  step: 'initial', // 'initial' | 'pending' | 'success' | 'error'
};

function trySubmit() {
  if (currentState.step === 'pending') {
    // Don't allow to submit twice
    return;
  }
  setState({ step: 'pending' });
  submitForm().then(() => {
    setState({ step: 'success' });
  }).catch(error => {
    setState({ step: 'error', error });
  });
}

function setState(nextState) {
  // Clear all existing children
  formStatus.innerHTML = '';

  currentState = nextState;
  switch (nextState.step) {
    case 'initial':
      break;
    case 'pending':
      formStatus.appendChild(spinner);
      break;
    case 'success':
      let successMessage = createSuccessMessage();
      formStatus.appendChild(successMessage);
      break;
    case 'error':
      let errorMessage = createErrorMessage(nextState.error);
      let retryButton = createRetryButton();
      formStatus.appendChild(errorMessage);
      formStatus.appendChild(retryButton);
      retryButton.addEventListener('click', trySubmit);
      break;
  }
}
</code></pre><p>çœ‹èµ·æ¥å¯èƒ½å·®å¼‚ä¸å¤§ï¼Œç”šè‡³æ›´å•°å—¦äº†ï¼Œä½†æ˜¯å®ƒå´æˆå‰§æ€§åœ°è®©è°ƒè¯•å˜å¾—æ›´ç®€å•äº†ã€‚å› ä¸ºè¿™å‡ è¡Œï¼š</p>
<pre data-line="3," 3="" class="language-jsx"><code 3="" class="language-jsx">function setState(nextState) {
  // Clear all existing children
  formStatus.innerHTML = '';

  // ... the code adding stuff to formStatus ...
</code></pre><p>é€šè¿‡åœ¨åšä»»ä½•æ“ä½œå‰æ¸…ç©ºè¡¨å•çŠ¶æ€ï¼Œæˆ‘ä»¬ä¿è¯äº†æ‰€æœ‰ DOM æ“ä½œéƒ½ä»æ–°å¼€å§‹ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥æˆ˜èƒœå¿…ç„¶å‘ç”Ÿçš„<a href="/the-elements-of-ui-engineering/">å¢’å˜</a>ï¼Œé€šè¿‡<em>ä¸è®©é”™è¯¯ç§¯ç´¯</em>ã€‚è¿™ä¸ªä»£ç çš„åšæ³•æœ‰ç‚¹åƒâ€œæŠŠå®ƒå…³æ‰ç„¶åå†æ‰“å¼€â€ï¼Œå°±æ˜¯è¿™ä¹ˆç¥å¥‡ã€‚</p>
<p><strong>å¦‚æœç»“æœæœ‰é”™è¯¯ï¼Œæˆ‘ä»¬åªéœ€è¦å¾€å›æƒ³ä¸€æ­¥ï¼Œçœ‹ä¸€ä¸‹ä¸Šæ¬¡çš„ <code>setState</code> è°ƒç”¨ã€‚</strong> è°ƒè¯•æ¸²æŸ“ç»“æœçš„ Bug-O æ˜¯ ğŸ(<em>n</em>) å…¶ä¸­ <em>n</em> æ˜¯æ¸²æŸ“ç›¸å…³çš„ä»£ç è·¯å¾„æ•°ï¼Œåœ¨è¿™é‡Œå³ä¸º 4ï¼ˆå› ä¸º <code>switch</code> é‡Œæœ‰ 4 ç§æƒ…å†µï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯èƒ½ä»ç„¶ä¼šåœ¨<em>è®¾ç½®</em>çŠ¶æ€çš„æ—¶å€™é‡åˆ°ç«æ€ï¼Œä½†æ˜¯è°ƒè¯•å®ƒä¼šæ¯”ä¹‹å‰æ›´ç®€å•ï¼Œå› ä¸ºæ¯ä¸ªä¸­é—´çŠ¶æ€éƒ½å¯ä»¥è¢«æ—¥å¿—è®°å½•å’Œæ£€æŸ¥ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ˜¾å¼åœ°é˜»æ­¢ä¸€äº›éé¢„æœŸçš„çŠ¶æ€å˜åŒ–ï¼š</p>
<pre class="language-jsx"><code class="language-jsx">function trySubmit() {
  if (currentState.step === 'pending') {
    // Don't allow to submit twice
    return;
  }
</code></pre><p>å½“ç„¶ï¼Œæ¯æ¬¡éƒ½é‡ç½® DOM ä¹Ÿæœ‰åˆ©æœ‰å¼Šã€‚ç®€å•åœ°ç§»é™¤ç„¶åé‡å»º DOM ä¼šé”€æ¯å®ƒä»¬çš„å†…éƒ¨çŠ¶æ€ï¼Œè®©å®ƒä»¬å¤±å»ç„¦ç‚¹ï¼Œåœ¨æ›´å¤§å‹çš„åº”ç”¨é‡Œä¹Ÿä¼šé€ æˆä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåƒ React è¿™æ ·çš„åº“ä¼šå¾ˆæœ‰å¸®åŠ©äº†ï¼Œå› ä¸ºå®ƒä»¬åªéœ€è¦è®©ä½ æ€è€ƒå¦‚ä½•ä»é›¶å¼€å§‹æ­å»º UIï¼Œå®é™…ä¸Šåº“çš„å†…éƒ¨å´å¹¶ä¸æ˜¯è¿™æ ·åšçš„ï¼š</p>
<pre class="language-jsx"><code class="language-jsx">function FormStatus() {
  let [state, setState] = useState({
    step: 'initial'
  });

  function handleSubmit(e) {
    e.preventDefault();
    if (state.step === 'pending') {
      // Don't allow to submit twice
      return;
    }
    setState({ step: 'pending' });
    submitForm().then(() => {
      setState({ step: 'success' });
    }).catch(error => {
      setState({ step: 'error', error });
    });
  }

  let content;
  switch (state.step) {
    case 'pending':
      content = &lt;Spinner />;
      break;
    case 'success':
      content = &lt;SuccessMessage />;
      break;
    case 'error':
      content = (
        &lt;>
          &lt;ErrorMessage error={state.error} />
          &lt;RetryButton onClick={handleSubmit} />
        &lt;/>
      );
      break;
  }

  return (
    &lt;form onSubmit={handleSubmit}>
      {content}
    &lt;/form>
  );
}
</code></pre><p>ä»£ç çœ‹èµ·æ¥å¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯åŸåˆ™æ˜¯ç›¸åŒçš„ã€‚ç»„ä»¶çš„æŠ½è±¡å¼ºåŒ–äº†æŒ‡è´£çš„è¾¹ç•Œï¼Œå› æ­¤ä½ ä¸çŸ¥é“å…¶ä»–é¡µé¢ä¸Šèƒ½å½±å“ DOM å’ŒçŠ¶æ€çš„ä»£ç ã€‚ç»„ä»¶åŒ–æœ‰åŠ©äºé™ä½ Bug-Oã€‚</p>
<p>äº‹å®ä¸Šï¼Œå¦‚æœä¸€ä¸ª React åº”ç”¨é‡Œæœ‰ä»»ä½•å€¼åœ¨ DOM ä¸Šçœ‹èµ·æ¥ä¸å¤ªå¯¹ï¼Œä½ éƒ½å¯ä»¥è·Ÿè¸ªå®ƒæ˜¯ä»å“ªé‡Œæ¥çš„ï¼Œé€šè¿‡ä¸€ä¸ªä¸€ä¸ªåœ°æŸ¥çœ‹åœ¨å®ƒä¹‹ä¸Šçš„ç»„ä»¶çš„ä»£ç ã€‚ä¸è®ºä½ çš„åº”ç”¨æœ‰å¤šå¤§ï¼Œè·Ÿè¸ªä¸€ä¸ªæ¸²æŸ“å‡ºæ¥çš„å€¼æ˜¯ ğŸ(<em>tree height</em>) çš„ã€‚</p>
<p><strong>ä¸‹ä¸€æ¬¡ä½ çœ‹åˆ°ä¸€ä¸ªæœ‰å…³ API çš„è®¨è®ºï¼Œé¦–å…ˆè€ƒè™‘ï¼šå®ƒçš„å¸¸è§„è°ƒè¯•ä»»åŠ¡çš„ ğŸ(<em>n</em>) æ˜¯å¤šå°‘ï¼Ÿ</strong> ç°æœ‰ä½ ååˆ†ç†Ÿæ‚‰çš„ APIs å’Œå¼€å‘åŸåˆ™æ€ä¹ˆæ ·ï¼ŸReduxã€CSSã€ç»§æ‰¿... å®ƒä»¬éƒ½æœ‰è‡ªå·±çš„ Bug-Oã€‚</p>
<hr>
</article> <hr> <div class="post__wrapper"><a href="/lkangd.com/post/the-bug-o-notation" class="cs-outside-link fr">The â€œBug-Oâ€ Notation â†’</a> <!----></div> <section class="cs-statement" data-v-6cb3297c><hr data-v-6cb3297c> <p class="cs-statement__text" data-v-6cb3297c>
    è®¨è®ºè¯·å‘é‚®ä»¶åˆ°
    <a href="mailto:lkangd@gmail.com" target="_blank" class="cs-outside-link" data-v-6cb3297c>lkangd@gmail.com</a></p> <p class="cs-statement__text" data-v-6cb3297c>æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½</p> <p class="cs-statement__text" data-v-6cb3297c>é€šè¿‡æ”¯ä»˜å® lkangd@foxmail.com æˆ–èµèµç èµåŠ©æ­¤æ–‡</p> <img alt="reward-code" src="/lkangd.com/_nuxt/img/3b0f29f.jpg" class="cs-statement__reward-code" data-v-6cb3297c></section></section> <footer class="cs-footer" data-v-04c3be52><div class="cs-color-slogan cs-footer__slogan" data-v-1740ad80 data-v-04c3be52><span data-v-1740ad80>Work With </span> <span class="cs-color-slogan__placeholder" data-v-1740ad80></span> <span class="cs-color-slogan__wrapper" data-v-1740ad80>
    Â 
    <span data-v-1740ad80></span></span></div> <svg xmlns="http://www.w3.org/2000/svg" class="cs-footer__logo" data-v-04c3be52><use href="/lkangd.com/_nuxt/262e991fa0c906f1d05d77a4571a395b.svg#i-logo" xlink:href="/lkangd.com/_nuxt/262e991fa0c906f1d05d77a4571a395b.svg#i-logo"></use></svg> <p class="cs-footer__text" data-v-04c3be52>
    2017-2019Â 
    <a href="/" target="_blank" class="cs-outside-link" data-v-04c3be52>Curtis' Spot</a></p></footer></div></div></div><script defer src="/lkangd.com/post/the-bug-o-notation-zh/payload1568183296278.js"></script><script src="/lkangd.com/_nuxt/65dc7a5cd1c1cd57e7eb.js" defer></script><script src="/lkangd.com/_nuxt/7e77b8e6cd7011676488.js" defer></script><script src="/lkangd.com/_nuxt/48f65a593c854d50b992.js" defer></script><script src="/lkangd.com/_nuxt/2bc7cee40a450e203637.js" defer></script><script src="/lkangd.com/_nuxt/ef6c14c0800794aa78c2.js" defer></script><script data-n-head="ssr" type="text/javascript" data-body="true">!function(){function t(e){r=e,document.body.className=e}var r,a={light:"light",dark:"dark"};try{r=localStorage.getItem("theme")}catch(e){}window.__setPreferredTheme=function(e){t(e);try{localStorage.setItem("theme",e)}catch(e){}};var e=window.matchMedia("(prefers-color-scheme: dark)");e.addListener(function(e){window.__setPreferredTheme(a[r]||(e.matches?"dark":"light"))}),t(a[r]||(e.matches?"dark":"light"))}()</script>
  </body>
</html>
